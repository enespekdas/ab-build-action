on : [push]

jobs: 
 custom-composite-build:
 
  runs-on : ubuntu-latest
  
  name : Custom Composite Deploy Action

  steps:
    - name: Checkout repository
      uses: actions/checkout@v2
    - name: ls -A files
      run : ls -A ${{ github.action_path }}
    - name: Cat COnfig
      run : cat ${{ github.action_path }}/config.txt

    - name: Kubectl Control
      run: kubectl 
    - name : kubeconfig file 
      run : ls -A /home/runner/
    - name: mkdir .kube directory
      run : mkdir /home/runner/.kube
    - name: .kube control
      run : ls -A /home/runner/
    
    - name : ls -A /home/runner/.kube/
      run : ls -A /home/runner/.kube/
    - name: cp ${{ github.action_path }}/config /home/runner/.kube/
      run : cp ${{ github.action_path }}/config /home/runner/.kube/config
    - name : cat config
      run : cat /home/runner/.kube/config
  # steps:
  # - shell: bash
  #   env:
  #     SUPER_SECRET: ${{ secrets.SuperSecret }}